"use strict";(self.webpackChunkhydrolang_training=self.webpackChunkhydrolang_training||[]).push([[194],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:i,l[1]=o;for(var u=2;u<r;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7125:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:1},l="Case Study 1: Running Parallel and Sequential Simulations",o={unversionedId:"tutorial/case-studies/case-study-1",id:"tutorial/case-studies/case-study-1",title:"Case Study 1: Running Parallel and Sequential Simulations",description:"Learn how to run parallel and sequential simulations using the HydroCompute library.",source:"@site/docs/tutorial/case-studies/case-study-1.md",sourceDirName:"tutorial/case-studies",slug:"/tutorial/case-studies/case-study-1",permalink:"/tutorials/hydrocompute/docs/tutorial/case-studies/case-study-1",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Case Studies",permalink:"/tutorials/hydrocompute/docs/category/case-studies"},next:{title:"Case Study 2: Matrix Multiplication",permalink:"/tutorials/hydrocompute/docs/tutorial/case-studies/case-study-2"}},s={},u=[{value:"Objectives",id:"objectives",level:2},{value:"Data Preparation",id:"data-preparation",level:2},{value:"Setting up the Pipeline",id:"setting-up-the-pipeline",level:2},{value:"Running the Simulation",id:"running-the-simulation",level:2},{value:"Visualizing Results",id:"visualizing-results",level:2}],p={toc:u},d="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"case-study-1-running-parallel-and-sequential-simulations"},"Case Study 1: Running Parallel and Sequential Simulations"),(0,i.kt)("p",null,"Learn how to run parallel and sequential simulations using the HydroCompute library."),(0,i.kt)("h2",{id:"objectives"},"Objectives"),(0,i.kt)("p",null,"The main objective of this case study is to showcase the usage of the Hydrocompute library for parallel and sequential executions. The study involves generating random data, setting up a parallel and sequential pipelines for data processing, running simulations using multiple functions in parallel and sequentially, and visualizing/analyzing the results."),(0,i.kt)("h2",{id:"data-preparation"},"Data Preparation"),(0,i.kt)("p",null,"Initialize a hydroCompute instance, this case the 'wasm' engine."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'const compute = new hydroCompute("wasm");\n')),(0,i.kt)("p",null,"Generate Random Data: Utilize the genRandomData function from the Hydrocompute library to generate random data."),(0,i.kt)("p",null,"Parameters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"1000000"),": Number of data points to generate."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"100"),": Maximum value for the data points."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"1"),": Number of arrays to generate."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"true"),": Flag indicating that the data should be saved for later use.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"compute.utils.genRandomData(1000000, 100, 1, true);\n")),(0,i.kt)("admonition",{title:"Note",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Since we are passing the ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," flag, the engine will generate a random string that wull be used as name for further usage.")),(0,i.kt)("h2",{id:"setting-up-the-pipeline"},"Setting up the Pipeline"),(0,i.kt)("p",null,"If running the script examples within the hydroCompute, you can see the available scripts and functions using"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"await compute.engineScripts();\n")),(0,i.kt)("p",null,"Let's use some of the available functions in the wasm engine and define the pipeline as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"functions: ",(0,i.kt)("inlineCode",{parentName:"li"},"['_arima_autoParams', '_linear_detrend', '_monteCarlo_c', '_linear_detrend']")),(0,i.kt)("li",{parentName:"ul"},"dataIds: ",(0,i.kt)("inlineCode",{parentName:"li"},"['dataName']")),(0,i.kt)("li",{parentName:"ul"},"dependencies: we will specify later")),(0,i.kt)("h2",{id:"running-the-simulation"},"Running the Simulation"),(0,i.kt)("p",null,"First let's run the parallel execution doing the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'compute.run({\n  functions: [\n    "_arima_autoParams",\n    "_linear_detrend",\n    "_monteCarlo_c",\n    "_linear_detrend",\n  ],\n  dataIds: ["dataName"],\n});\n')),(0,i.kt)("p",null,"Let's also run the sequential execution by passing the dependency boolean:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'compute.run({\n  functions: [\n    "_arima_autoParams",\n    "_linear_detrend",\n    "_monteCarlo_c",\n    "_linear_detrend",\n  ],\n  dataIds: ["dataName"],\n  dependencies: true,\n});\n')),(0,i.kt)("admonition",{title:"Note",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," tag for the sequential execution would make all the functions in a step to be linked. The user can specify otherwise by leaving empty array on functions to run in parallel.")),(0,i.kt)("h2",{id:"visualizing-results"},"Visualizing Results"),(0,i.kt)("p",null,"The results can be found as buffers within the ",(0,i.kt)("inlineCode",{parentName:"p"},"availableResults")," object. To view them as arrays, you can call the following method:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'compute.results("Simulation_1");\n')),(0,i.kt)("p",null,"For the parallel execution, we can see that the compute fired up all the theads at once and the order in which the functions finished might not necessarily be the same as the one we specified. For the sequential execution, we get only 1 single result that was calculated using the given function order."),(0,i.kt)("admonition",{title:"Tip",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Reorder the functions and see how these changes the output results.")))}c.isMDXComponent=!0}}]);